# Zabbix Server configuration file
# Managed by Ansible — do not edit manually

# ── General ──────────────────────────────────────────────
LogFile=/var/log/zabbix/zabbix_server.log
LogFileSize=0
PidFile=/run/zabbix/zabbix_server.pid

# ── Database ─────────────────────────────────────────────
DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword={{ zabbix_db_pass }}
DBPort={{ monitoring_pg_port }}

# ── Performance tuning ───────────────────────────────────
StartPollers=5
StartPollersUnreachable=1
StartPingers=1
StartTrappers=2
StartDiscoverers=2
StartHTTPPollers=1
StartTimers=1
StartEscalators=1
StartAlerters=3

# ── Cache ────────────────────────────────────────────────
CacheSize=64M
CacheUpdateFrequency=60
HistoryCacheSize=32M
HistoryIndexCacheSize=8M
TrendCacheSize=8M
TrendFunctionCacheSize=4M
ValueCacheSize=16M

# ── Housekeeping ─────────────────────────────────────────
HousekeepingFrequency=1
MaxHousekeeperDelete=5000

# ── Timeouts ─────────────────────────────────────────────
Timeout=4
TrapperTimeout=300

# ── Logging ──────────────────────────────────────────────
DebugLevel=3

# ── Network ──────────────────────────────────────────────
ListenPort=10051

# ── StatsAllowedIP (for internal monitoring) ─────────────
StatsAllowedIP=127.0.0.1
